document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".news-gallery ")){let y=document.querySelectorAll(".gallery-sm-photoes img"),S=document.querySelector(".general-img");y.forEach((function(e){e.addEventListener("click",(function(){let e=this.src,t=S.src;S.src=e,this.src=t}))}))}const e=document.querySelectorAll(".header__lng-toggle > a"),t=document.querySelector(".header");t.getBoundingClientRect().height;let n=localStorage.getItem("lang")||(window.navigator?window.navigator.language||window.navigator.systemLanguage||window.navigator.userLanguage:"uk");function c(t){e.forEach((e=>{e.classList.remove("active")}));const n="ru"===t?"ru":"uk",c=document.querySelector(`[data-lang="${n}"]`);c&&c.classList.add("active")}n=n.substring(0,2),e&&e.forEach((e=>{e.addEventListener("click",(function(e){var t;e.preventDefault(),localStorage.setItem("lang",this.dataset.lang),"ru"!==(t=this.dataset.lang)||/^\/ru/.test(location.pathname)?"ru"!==t&&/^\/ru/.test(location.pathname)&&(location.pathname=location.pathname.replace("/ru","")):location.pathname="/ru"+location.pathname,c(t)}))})),c(function(){const e=location.pathname.split("/");for(const t of e)if("ru"===t)return"ru";return"uk"}());const o=document.querySelector(".icon__menu"),i=document.querySelectorAll('.menu__link[href^="#"]');o&&o.addEventListener("click",(()=>{document.body.classList.toggle("lock"),o.classList.toggle("active"),t.classList.toggle("menu-active")})),i&&i.forEach((e=>{e.addEventListener("click",(function(e){document.body.classList.remove("lock"),o.classList.remove("active"),t.classList.remove("menu-active")}))}));const a=document.querySelectorAll(".images-slider__items");a.length&&a.forEach((function(e){const t=e.querySelectorAll(".images-slider__item");let n=e.querySelector(".images-slider__item.active");t.length&&t.forEach((e=>{let t;e.onmouseover=function(){t=!0,setTimeout((()=>{t&&!this.classList.contains("active")&&(n.classList.remove("active"),n=this,n.classList.add("active"))}),200)},e.onmouseleave=function(){t=!1}})),function(e,t,n){const c=40;let o=null,i=null;const a=function(e){o={x:e.changedTouches[0].clientX},i={x:o.x}},l=function(e){i={x:e.changedTouches[0].clientX}},s=function(e){let a={x:o.x-i.x};Math.abs(a.x)>c&&(a.x>0?n():t())};e.addEventListener("touchstart",a),e.addEventListener("touchmove",l),e.addEventListener("touchend",s)}(e,(function(){null!==n.previousElementSibling&&(n.classList.remove("active"),n=n.previousElementSibling,n.classList.add("active"))}),(function(){null!==n.nextElementSibling&&(n.classList.remove("active"),n=n.nextElementSibling,n.classList.add("active"))}))}));const l=document.querySelector(".overview-btn__container .btn-arrow-prev"),s=document.querySelector(".overview-btn__container .btn-arrow-next"),r=document.querySelectorAll(".overview__items");let u=0;const d=e=>{for(slide of r)slide.classList.remove("active");r[e].classList.add("active")};l&&l.addEventListener("click",(()=>{0==u?(u=r.length-1,d(u)):(u--,d(u))})),s&&s.addEventListener("click",(()=>{u==r.length-1?(u=0,d(u)):(u++,d(u))}));const m=document.querySelector(".panorama-slider__switcher"),v=document.querySelectorAll(".panorama-slider__switcher > span"),g=document.querySelectorAll(".panorama-slider__item");m&&(m.onclick=()=>{v.forEach((e=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")})),g.forEach((e=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}))});const h=document.querySelectorAll(".list-item");if(h&&h.forEach((e=>{e.addEventListener("click",(function(){document.querySelector(".custom-select").open=!1}))})),document.querySelectorAll("figure.news").length>0){let E=document.querySelectorAll("figure.news"),p=document.querySelector("#newsToLeft"),_=document.querySelector("#newsToRight"),q=3,w=0;function f(){const e=E.length,t=w*q,n=Math.min(t+q,e);for(let c=0;c<e;c++)E[c].style.display=c>=t&&c<n?"block":"none"}function L(e){const t=Math.ceil(E.length/q);"next"===e&&w<t-1?w++:"prev"===e&&w>0&&w--}p.addEventListener("click",(function(e){e.preventDefault(),L("prev"),f()})),_.addEventListener("click",(function(e){e.preventDefault(),L("next"),f()})),f()}}));
document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".popap-block")){let l=document.querySelector("#phoneValidation");l.addEventListener("change",(function(){let e=(t=l.value,/\+380[0-9]{9}$/.test(t));var t;console.log(e),e?document.querySelector(".incorrect-number")?(l.classList.remove("incorrect-number"),document.querySelector(".incorect-number-test").classList.add("d-none"),l.classList.add("correct-number")):document.querySelector(".correct-number")||l.classList.add("correct-number"):(document.querySelector(".incorect-number-test").classList.remove("d-none"),document.querySelector(".correct-number")?(l.classList.remove("correct-number"),document.querySelector(".incorect-number-test").classList.remove("d-none"),l.classList.add("incorrect-number")):document.querySelector(".incorrect-number")||l.classList.add("incorrect-number"))}))}if(document.querySelector(".slider-images")){const c=document.querySelectorAll(".slider-images img");let r=0;setInterval((()=>{c[r].classList.remove("active"),r=(r+1)%c.length,c[r].classList.add("active")}),3e3)}if(document.querySelector(".popap-more-info")){const s=document.querySelector(".popap-more-info");popapHeight=window.innerHeight,console.log(popapHeight),popapHeight<600?(s.style.overflowY="scroll",s.classList.add("scroll-style")):(s.style.overflowY="",s.classList.remove("scroll-style"))}const e=window.innerWidth;function t(){const t=document.querySelectorAll(".btn-more"),o=document.querySelectorAll(".btn-more-cancel"),n=document.querySelectorAll(".text-comment-block"),l=document.querySelector(".comment-block");let c=[];n.forEach((e=>{const t=e.scrollHeight;c.push(t)})),c.forEach(((e,n)=>{e>50?(t[n].style.display="block",o[n].style.display="none"):(t[n].style.display="none",o[n].style.display="none")})),console.log(c),t.forEach(((t,c)=>{t.addEventListener("click",(function(r){console.log(t),r.preventDefault(),n[c].classList.add("visible"),o[c].style.display="block",t.style.display="none",e>=768||(e>=375&&e<425?l.style.paddingBottom="75%":e>=425&&e<768?l.style.paddingBottom="50%":e<375&&(l.style.paddingBottom="60%"))}))})),o.forEach(((e,o)=>{e.addEventListener("click",(function(c){c.preventDefault(),n[o].classList.remove("visible"),t[o].style.display="block",e.style.display="none",l.style.paddingBottom=""}))}))}function o(){if(document.querySelector(".carousel")){const n=document.querySelector(".carousel"),l=document.querySelector(".left"),c=document.querySelector(".right");let r=[...document.querySelectorAll(".carousel-item")];const s=window.innerWidth;let i;if(s>=1024){i=s*(48/100)}else i=r[0].offsetWidth+75;let d=0,u=!1;function e(){for(;n.firstChild;)n.removeChild(n.firstChild);const e=r[r.length-1].cloneNode(!0);e.style.left=`-${i}px`,n.insertAdjacentElement("afterbegin",e);for(let e=0;e<r.length;e++){const t=r[e].cloneNode(!0);t.style.left=e*i+"px",n.appendChild(t)}t()}function o(t){u=!0;const o=-t*i;d=(d+r.length+t)%r.length,n.style.transition="transform .5s ease-in-out",n.style.transform=`translateX(${o}px)`,setTimeout((()=>{n.style.transition="none",n.style.transform="none",u=!1,e()}),500)}e(),c.addEventListener("click",(e=>{e.preventDefault(),r.push(r.shift()),o(1)})),l.addEventListener("click",(e=>{e.preventDefault(),r.unshift(r.pop()),o(-1)}))}}if(window.addEventListener("resize",(function(){setTimeout((()=>{o()}),100)})),o(),e<=540&&document.querySelector(".construction-progress")&&function(e,t,o){const n=document.querySelector(e);console.log(n);let l=[...document.querySelectorAll(t)];console.log(l);const c=l[0].offsetWidth;let r,s=0,i=!1,d=0,u=0;function a(){for(;n.firstChild;)n.removeChild(n.firstChild);const e=l[l.length-1].cloneNode(!0);e.style.transform=`translateX: (-${c}px)`,n.insertAdjacentElement("afterbegin",e);for(let e=0;e<l.length;e++){const t=l[e].cloneNode(!0);t.style.transform=`translateX: (${e} * ${c}px)`,n.appendChild(t)}}function m(e){i=!0;const t=-e*c;s=(s+l.length+e)%l.length,n.style.transition="transform .5s ease-in-out",n.style.transform=`translateX(${t}px)`,setTimeout((()=>{n.style.transition="none",n.style.transform="none",i=!1,a()}),500)}function y(){l.push(l.shift()),m(1)}function f(e){d=e.touches[0].clientX,g()}function p(e){u=e.touches[0].clientX}function h(){const e=d-u;e>50?y():e<-50&&(l.unshift(l.pop()),m(-1)),v()}function v(){r=setInterval(y,4e3)}function g(){clearInterval(r)}window.innerWidth<600?(a(),n.addEventListener("touchstart",f),n.addEventListener("touchmove",p),n.addEventListener("touchend",h),v()):(n.removeEventListener("touchstart",f),n.removeEventListener("touchmove",p),n.removeEventListener("touchend",h),g())}(".construction-progress__galery",".construction-progress__img"),document.querySelector(".popap-block")){const i=document.querySelector(".opacity-bg"),d=document.querySelector(".popap-more-info"),u=document.querySelector(".cancel-popap"),a=document.querySelector(".open-popap");function n(){i.style.display="none",d.style.display="none"}i.addEventListener("click",(function(e){e.preventDefault(),n()})),u.addEventListener("click",(function(e){e.preventDefault(),n()})),a.addEventListener("click",(function(e){e.preventDefault(),d.style.display="block",i.style.display="block"}))}})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".floor").forEach((function(e){1==e.getAttribute("data-floor-number")?e.style.display="block":e.style.display="none"}));if(document.querySelectorAll(".js-floor").forEach((function(e){e.addEventListener("change",(function(){const e=this.value;document.querySelectorAll(".floor").forEach((function(e){e.style.display="none"}));const t=document.querySelector(`.floor[data-floor-number="${e}"]`);t?t.style.display="block":console.error(`Елемент з data-floor-number="${e}" не знайдений.`)}))})),document.getElementById("galleryPhotos")){let e=document.getElementById("photoToggle"),t=document.getElementById("videoToggle"),o=document.getElementById("galleryPhotos"),n=document.getElementById("galleryVideos");e.addEventListener("click",(function(){n.style.display="none",o.style.display="block"})),t.addEventListener("click",(function(){o.style.display="none",n.style.display="block"}))}}));