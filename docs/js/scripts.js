document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".news-gallery ")){let y=document.querySelectorAll(".gallery-sm-photoes img"),S=document.querySelector(".general-img");y.forEach((function(e){e.addEventListener("click",(function(){let e=this.src,t=S.src;S.src=e,this.src=t}))}))}const e=document.querySelectorAll(".header__lng-toggle > a"),t=document.querySelector(".header");t.getBoundingClientRect().height;let n=localStorage.getItem("lang")?localStorage.getItem("lang"):window.navigator?window.navigator.language||window.navigator.systemLanguage||window.navigator.userLanguage:"uk";function o(t){"ru"!==t||/^\/ru/.test(location.pathname)?"ru"!==t&&/^\/ru/.test(location.pathname)&&(location.pathname=location.pathname.replace("/ru","")):location.pathname="/ru"+location.pathname,document.querySelector(`[data-lang="${t}"]`).classList.contains("active")||e.forEach((e=>{e.classList.toggle("active")}))}n=n.substring(0,2),e&&e.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),localStorage.setItem("lang",this.dataset.lang),o(this.dataset.lang)}))})),o(n);const c=document.querySelector(".icon__menu"),s=document.querySelectorAll('.menu__link[href^="#"]');c&&c.addEventListener("click",(()=>{document.body.classList.toggle("lock"),c.classList.toggle("active"),t.classList.toggle("menu-active")})),s&&s.forEach((e=>{e.addEventListener("click",(function(e){document.body.classList.remove("lock"),c.classList.remove("active"),t.classList.remove("menu-active")}))}));const r=document.querySelectorAll(".images-slider__items");r.length&&r.forEach((function(e){const t=e.querySelectorAll(".images-slider__item");let n=e.querySelector(".images-slider__item.active");t.length&&t.forEach((e=>{let t;e.onmouseover=function(){t=!0,setTimeout((()=>{t&&!this.classList.contains("active")&&(n.classList.remove("active"),n=this,n.classList.add("active"))}),200)},e.onmouseleave=function(){t=!1}})),f(e,(function(){null!==n.previousElementSibling&&(n.classList.remove("active"),n=n.previousElementSibling,n.classList.add("active"))}),(function(){null!==n.nextElementSibling&&(n.classList.remove("active"),n=n.nextElementSibling,n.classList.add("active"))}))}));const i=document.querySelector(".overview-btn__container .btn-arrow-prev"),l=document.querySelector(".overview-btn__container .btn-arrow-next"),a=document.querySelectorAll(".overview__items");let u=0;const d=e=>{for(slide of a)slide.classList.remove("active");a[e].classList.add("active")};i&&i.addEventListener("click",(()=>{0==u?(u=a.length-1,d(u)):(u--,d(u))})),l&&l.addEventListener("click",(()=>{u==a.length-1?(u=0,d(u)):(u++,d(u))}));const m=document.querySelector(".panorama-slider__switcher"),v=document.querySelectorAll(".panorama-slider__switcher > span"),h=document.querySelectorAll(".panorama-slider__item");m&&(m.onclick=()=>{v.forEach((e=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")})),h.forEach((e=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}))});const g=document.querySelectorAll(".list-item");function f(e,t,n){let o=null,c=null;const s=function(e){o={x:e.changedTouches[0].clientX},c={x:o.x}},r=function(e){c={x:e.changedTouches[0].clientX}},i=function(e){let s={x:o.x-c.x};Math.abs(s.x)>40&&(s.x>0?n():t())};return e.addEventListener("touchstart",s),e.addEventListener("touchmove",r),e.addEventListener("touchend",i),{touchStartSlider:s,touchMoveSlider:r,touchEndSlider:i}}if(g&&g.forEach((e=>{e.addEventListener("click",(function(){document.querySelector(".custom-select").open=!1}))})),function(){const e=document.querySelector(".construction-progress__galery");let t,n,o=-1,c=!0;const s=.75,r=function(e,t){},i=function(e){},l=function(){1===o?(c?(e.style.transform="translateX(-300%)",c=!1):(e.style.transform="translateX(-200%)",c=!0),o=-1):(e.style.transform="translateX(-300%)",c=!1)},a=function(){-1===o?(c?(e.style.transform="translateX(-100%)",c=!1):(e.style.transform="translateX(-200%)",c=!0),o=1):(e.style.transform="translateX(-100%)",c=!1)},u=function(){n=setInterval(l,4e3)},d=function(){clearInterval(n)};function m(){document.querySelectorAll(".construction-progress__img.clone").forEach((e=>{e.remove()})),d(),e.removeEventListener("transitionend",v),e.removeEventListener("touchstart",t.touchStartSlider),e.removeEventListener("touchmove",t.touchMoveSlider),e.removeEventListener("touchend",t.touchEndSlider),e.removeEventListener("touchstart",d),e.removeEventListener("touchend",u),window.removeEventListener("blur",d),window.removeEventListener("focus",u),e.style.transition="none",e.style.transform="translateX(0%)"}function v(){c||(1===o?e.prepend(e.lastElementChild):e.append(e.firstElementChild)),o=-1,i(e),e.style.transform="translateX(-200%)",setTimeout((()=>{r(e,s)}),0),c=!0}i(e),window.matchMedia("(max-width: 540px)").matches&&(function(){const t=document.querySelectorAll(".construction-progress__img");if(t.length>=5)e.prepend(e.lastElementChild),e.prepend(e.lastElementChild);else for(let n=0;n<2;n++){let o,c;o=t[n].cloneNode(!0),c=t[t.length-n-1].cloneNode(!0),o.classList.add("clone"),c.classList.add("clone"),e.append(o),e.prepend(c)}}(),e.addEventListener("transitionend",v),e.addEventListener("touchstart",d),e.addEventListener("touchend",u),window.addEventListener("blur",d),window.addEventListener("focus",u),e.style.transform="translateX(-200%)",t=f(e,a,l),c=!0),setTimeout((()=>{r(e,s)}),0),window.onresize=()=>{window.matchMedia("(max-width: 540px)").matches||m()}}(),document.querySelectorAll("figure.news").length>0){let p=document.querySelectorAll("figure.news"),w=document.querySelector("#newsToLeft"),_=document.querySelector("#newsToRight"),q=3,x=0;function L(){const e=p.length,t=x*q,n=Math.min(t+q,e);for(let o=0;o<e;o++)p[o].style.display=o>=t&&o<n?"block":"none"}function E(e){const t=Math.ceil(p.length/q);"next"===e&&x<t-1?x++:"prev"===e&&x>0&&x--}w.addEventListener("click",(function(e){e.preventDefault(),E("prev"),L()})),_.addEventListener("click",(function(e){e.preventDefault(),E("next"),L()})),L()}}));
document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".popap-block")){let i=document.querySelector("#phoneValidation");i.addEventListener("change",(function(){let e=(t=i.value,/\+380[0-9]{9}$/.test(t));var t;console.log(e),e?document.querySelector(".incorrect-number")?(i.classList.remove("incorrect-number"),document.querySelector(".incorect-number-test").classList.add("d-none"),i.classList.add("correct-number")):document.querySelector(".correct-number")||i.classList.add("correct-number"):(document.querySelector(".incorect-number-test").classList.remove("d-none"),document.querySelector(".correct-number")?(i.classList.remove("correct-number"),document.querySelector(".incorect-number-test").classList.remove("d-none"),i.classList.add("incorrect-number")):document.querySelector(".incorrect-number")||i.classList.add("incorrect-number"))}))}if(document.querySelectorAll(".slider-images img")){const s=document.querySelectorAll(".slider-images img");let d=0;setInterval((()=>{s[d].classList.remove("active"),d=(d+1)%s.length,s[d].classList.add("active")}),3e3)}if(document.querySelector(".popap-more-info")){const u=document.querySelector(".popap-more-info");popapHeight=window.innerHeight,console.log(popapHeight),popapHeight<500?(u.style.overflowY="scroll",u.classList.add("scroll-style")):(u.style.overflowY="",u.classList.remove("scroll-style"))}if(document.querySelector(".carousel")){const a=document.querySelector(".carousel"),m=document.querySelector(".left"),y=document.querySelector(".right");let f=[...document.querySelectorAll(".carousel-item")];const p=window.innerWidth;let S;if(p>=1024){S=p*(48/100)}else S=f[0].offsetWidth+75;let v=0,b=!1;function e(){for(;a.firstChild;)a.removeChild(a.firstChild);const e=f[f.length-1].cloneNode(!0);e.style.left=`-${S}px`,a.insertAdjacentElement("afterbegin",e);for(let e=0;e<f.length;e++){const t=f[e].cloneNode(!0);t.style.left=e*S+"px",a.appendChild(t)}!function(){const e=document.querySelectorAll(".btn-more"),t=document.querySelectorAll(".btn-more-cancel"),r=document.querySelectorAll(".text-comment-block"),n=document.querySelector(".comment-block");e.forEach(((e,l)=>{e.addEventListener("click",(function(o){console.log(e),o.preventDefault(),r[l].classList.add("visible"),t[l].style.display="block",e.style.display="none";const c=window.innerWidth;c>=768?n.style.paddingBottom="15%":c>=375&&c<425?n.style.paddingBottom="75%":c>=425&&c<768?n.style.paddingBottom="50%":c<375&&(n.style.paddingBottom="100%")}))})),t.forEach(((t,l)=>{t.addEventListener("click",(function(o){o.preventDefault(),r[l].classList.remove("visible"),e[l].style.display="block",t.style.display="none",n.style.paddingBottom=""}))}))}()}function t(t){b=!0;const r=-t*S;v=(v+f.length+t)%f.length,a.style.transition="transform .5s ease-in-out",a.style.transform=`translateX(${r}px)`,setTimeout((()=>{a.style.transition="none",a.style.transform="none",b=!1,e()}),500)}e(),y.addEventListener("click",(e=>{e.preventDefault(),f.push(f.shift()),t(1)})),m.addEventListener("click",(e=>{e.preventDefault(),f.unshift(f.pop()),t(-1)}))}if(document.querySelector(".popap-block")){const q=document.querySelector(".opacity-bg"),L=document.querySelector(".popap-more-info"),g=document.querySelector(".cancel-popap"),h=document.querySelector(".open-popap");function r(){q.style.display="none",L.style.display="none"}q.addEventListener("click",(function(e){e.preventDefault(),r()})),g.addEventListener("click",(function(e){e.preventDefault(),r()})),h.addEventListener("click",(function(e){e.preventDefault(),L.style.display="block",q.style.display="block"}))}let n,l=document.getElementsByName("floor"),o=document.querySelectorAll(".floor");function c(){for(var e=0;e<l.length;e++)if(l[e].checked){for(let t=0;t<o.length;t++)o[t].style.display="none",o[t].getAttribute("data-floor-number")==l[e].value&&(n=o[t],n.style.display="block");break}let t,r=document.querySelector(".btn-arrow-prev"),c=document.querySelector(".btn-arrow-next"),i=n.querySelector(".js-slider"),s=n.querySelectorAll(".slide"),d=s[1].getBoundingClientRect().width,u=document.querySelectorAll(".filter-queue__items input"),a=document.querySelector(".currentSlideBtn");for(let e=0;e<s.length;e++)u[e].dataset.orderNumber=e,s[e].dataset.orderNumber=e;function m(e){e.preventDefault(),a.classList.remove("currentSlideBtn"),e.target.classList.add("currentSlideBtn"),u=Array.from(u),s=Array.from(s),a=document.querySelector(".currentSlideBtn"),t.classList.remove("currentSlide"),s[u.indexOf(a)].classList.add("currentSlide"),t=document.querySelector(".currentSlide"),y(),i.scroll(i.scrollLeft=d*u.indexOf(a),0)}function y(){let e=r.querySelector("span span"),n=c.querySelector("span span"),l=document.querySelector(".plan-nav__title h3");s=Array.from(s),1==s.indexOf(t)?(r.style.visibility="visible",c.style.visibility="visible",l.innerText="II черга",e.innerText="I черга",n.innerText="III черга"):0==s.indexOf(t)?(l.innerText="I черга",r.style.visibility="hidden",c.style.visibility="visible",n.innerText="II черга"):2==s.indexOf(t)&&(l.innerText="III черга",r.style.visibility="visible",c.style.visibility="hidden",e.innerText="II черга")}i.scroll(i.scrollLeft+=d*a.getAttribute("data-order-number"),0),s[a.getAttribute("data-order-number")].classList.add("currentSlide"),t=document.querySelector(".currentSlide"),y(),u.forEach((e=>{e.onclick=m})),c.onclick=function(e){e.preventDefault(),s=Array.from(s);let r=s.indexOf(t);t.classList.remove("currentSlide"),s[r+1].classList.add("currentSlide"),t=document.querySelector(".currentSlide"),y(),u=Array.from(u);let n=u.indexOf(a);a.classList.remove("currentSlideBtn"),u[n+1].classList.add("currentSlideBtn"),a=document.querySelector(".currentSlideBtn"),i.scroll(i.scrollLeft+=d,0)},r.onclick=function(e){e.preventDefault(),s=Array.from(s);let n=s.indexOf(t);t.classList.remove("currentSlide"),s[n-1].classList.add("currentSlide"),t=document.querySelector(".currentSlide"),y(),console.log(r.innerText),u=Array.from(u);let l=u.indexOf(a);a.classList.remove("currentSlideBtn"),u[l-1].classList.add("currentSlideBtn"),a=document.querySelector(".currentSlideBtn"),i.scroll(i.scrollLeft-d,0)}}c(),l.forEach((e=>{e.oninput=c}))}));